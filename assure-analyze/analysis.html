<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>analysis – Equity Data Handbook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../assure-analyze/vis.html" rel="next">
<link href="../assure-analyze/qaqc.html" rel="prev">
<link href="../images/WaterBoards_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-29e2c20b02301cfff04dc8050bf30c7e.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-43df0d6f53b733b42d37fa7808e17715.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-80894a86ef359569409185b7f76de1bd.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-af603a60a5fe006adce5650bd6659eb8.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../assure-analyze/index.html">Assure &amp; Analyze</a></li><li class="breadcrumb-item"><a href="../assure-analyze/analysis.html">Data Analysis</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/WaterBoards_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://www.waterboards.ca.gov/resources/oima/" title="OIMA" class="quarto-navigation-tool px-1" aria-label="OIMA"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook" title="Handbook Repo" class="quarto-navigation-tool px-1" aria-label="Handbook Repo"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Background</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../get-started/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting Started</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../get-started/best-practice.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Best Practices</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../get-started/common-language.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Establishing Common Language</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../publish-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Publish Your Data</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../plan-prep/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Plan &amp; Prepare</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../plan-prep/plan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../plan-prep/prep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Preparation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../collect-process/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collect &amp; Process</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../collect-process/collection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Collection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../collect-process/process.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Processing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../assure-analyze/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Assure &amp; Analyze</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assure-analyze/qaqc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quality Assurance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assure-analyze/analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Data Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assure-analyze/vis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Visualization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../store.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preserve &amp; Store</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../share.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Publish &amp; Share</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../eval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discover &amp; Integrate</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documentation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Describe</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../use-cases/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Use Cases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../use-cases/swamp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SWAMP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../use-cases/demographics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Demographics Data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resources</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../inspo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inspiration</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-analysis" id="toc-data-analysis" class="nav-link active" data-scroll-target="#data-analysis">Data Analysis</a>
  <ul class="collapse">
  <li><a href="#data-analysis-with-an-equity-lens" id="toc-data-analysis-with-an-equity-lens" class="nav-link" data-scroll-target="#data-analysis-with-an-equity-lens">Data Analysis with an Equity Lens</a>
  <ul class="collapse">
  <li><a href="#data-analysis-method-considerations" id="toc-data-analysis-method-considerations" class="nav-link" data-scroll-target="#data-analysis-method-considerations">Data Analysis Method Considerations</a></li>
  <li><a href="#beware-of-common-data-fallacies" id="toc-beware-of-common-data-fallacies" class="nav-link" data-scroll-target="#beware-of-common-data-fallacies"><strong>Beware of Common Data Fallacies</strong></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/edit/main/assure-analyze/analysis.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/blob/main/assure-analyze/analysis.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../assure-analyze/index.html">Assure &amp; Analyze</a></li><li class="breadcrumb-item"><a href="../assure-analyze/analysis.html">Data Analysis</a></li></ol></nav></header>




<section id="data-analysis" class="level1">
<h1>Data Analysis</h1>
<p>By now, you’ve completed all of your planning and prep and are ready to get to the analysis part of the project. Congratulations!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The whole point of data analysis is to turn data into information, knowledge, and wisdom that we can use to make decisions and take action.
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ideally, the data-informed decisions we make and the corresponding actions we take will help us advance and operationalize equity. Using data to inform decisions can be challenging, and is even more so when applying an equity lens to our data work.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/dikw_adapted.png" class="img-fluid figure-img"></p>
<figcaption>Illustrations of two perspectives on Data-Information-Knowledge-Wisdom (DIKW) In practice. Graphic adapted from Flood et al.&nbsp;(2016) and DataCamp (2023).</figcaption>
</figure>
</div>
<p>As the graphic above illustrates, the transition and transformation from data to wisdom requires adding context, meaning, and insight to the original data, while gaining experience and understanding as we progress. In the above graphic we define data, information, knowledge, and wisdom as:</p>
<ul>
<li><p><strong>Data</strong>: individual measurements, facts, figures, and signals, without context.</p></li>
<li><p><strong>Information</strong>: organized, structured, and contextualized data that can be used to identify concepts of “who”, “what”, “where”, and “when”.</p></li>
<li><p><strong>Knowledge</strong>: the result of analyzing, synthesizing, and interpreting information to identify patterns, trends, and relationships, which can be used to understand the “how” and “why” of what we’re observing.</p></li>
<li><p><strong>Wisdom</strong>: the ability to integrate what we understand from the data with other context, reflection, and underlying knowledge of the broader question or topic at hand with the express purpose of making data and equity-informed decisions and to take effective and impactful action.</p></li>
</ul>
<section id="data-analysis-with-an-equity-lens" class="level2">
<h2 class="anchored" data-anchor-id="data-analysis-with-an-equity-lens">Data Analysis with an Equity Lens</h2>
<p>Turning data into information in the context of racial equity involves navigating complex ethical considerations. The process requires an understanding of the potential impact on Black, Indigenous, and other People of Color (BIPOC) communities and the responsibility to mitigate perpetuating or reinforcing biases. Upholding ethical standards requires a commitment to maintaining privacy, accessibility, and fostering transparency throughout the data transformation process. Additionally, acknowledging the limitations of the data and being transparent about potential biases is essential for maintaining the integrity of the data and information generated and shared. The transformation of racial equity data into meaningful information requires a thoughtful and intentional approach which we will highlight in the next sections.</p>
<p>For example, many programs will rely on demographic and socioeconomic data, like those collected from the <a href="https://www.census.gov/programs-surveys/decennial-census/decade/2020/2020-census-main.html">U.S. Census</a> and the <a href="https://www.census.gov/programs-surveys/acs">American Community Survey</a> (ACS). Because the ACS is based on a sample, rather than all housing units and people, ACS estimates have a degree of uncertainty associated with them, called sampling error. In general, the larger the sample, the smaller the level of sampling error. To help users understand the impact of sampling error on data reliability, the Census Bureau provides a “margin of error” for each published ACS estimate. The margin of error, combined with the ACS estimate, gives users a range of values within which the actual “real-world” value is likely to fall. Also see: <a href="https://www.census.gov/programs-surveys/acs/library/handbooks/general.html">Using American Community Survey (ACS) Data: What All Data Users Need to Know Handbook</a>.</p>
<p>It is important to acknowledge this uncertainty up front to be transparent with your audience about the data and conclusions you are drawing.</p>
<p>Examples of how others have done this work include:</p>
<ul>
<li><p>Calif. Dept. of Finance Demographic Research Unit’s <a href="https://cacensus.maps.arcgis.com/apps/webappviewer/index.html?id=48be59de0ba94a3dacff1c9116df8b37">California Hard-to-Count Index Interactive Map</a>, which measures the potential inaccuracies associated with relying on census data to enumerate demographic and socioeconomic characteristics in California</p></li>
<li><p>Office of Environmental Health and Hazard Assessment <a href="https://storymaps.arcgis.com/stories/f555670d30a942e4b46b18293e2795a7">CalEnviroScreen 4.0 Race and Equity Analysis</a></p></li>
</ul>
<section id="data-analysis-method-considerations" class="level3">
<h3 class="anchored" data-anchor-id="data-analysis-method-considerations">Data Analysis Method Considerations</h3>
<p>There are five main data analysis method types, and each has a different process, purpose, and interpretation (see table below). As you embark on your analysis, it’s important to:</p>
<ul>
<li>understand which method(s) you can use given your data</li>
<li>understand the limitations of your data and those method(s)</li>
<li>select the method(s) that are most appropriate for your project questions/objectives</li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 4%">
<col style="width: 21%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="header">
<th>Analysis Method</th>
<th>Purpose</th>
<th>Limitation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Descriptive Analytics</td>
<td>Summarize and describe data in clear and simple way</td>
<td>Descriptive analyses cannot tell us anything about <em>why</em> we’re seeing the results, patterns, or trends that are identified.</td>
</tr>
<tr class="even">
<td>Inferential Analytics</td>
<td>Make (infer) conclusions or generalizations about populations based on sample data</td>
<td>Conclusions can only be made on samples / data that are analysed, and the appropriate use and interpretation of the statistical method used depends on whether the data meets the assumptions of the method. If method assumptions are not met - results and conclusions are meaningless.</td>
</tr>
<tr class="odd">
<td>Diagnostic Analytics</td>
<td>Tell us something about the “why” behind the results, patterns, or trends that are identified</td>
<td>Depending on the data you have and the analysis you are able to use, your results may not be able to identify <em>the</em> root cause in the context of the lived experiences of the communities the data you’re using are meant to represent.</td>
</tr>
<tr class="even">
<td>Predictive Analytics</td>
<td>Help identify what might be likely to happen in the future given the previous trends or patterns found in the data</td>
<td>Your ability to predict what may happen is highly dependent on (and limited by) the quantity, quality, and representativeness of the data that you use. If there are gaps in that data you feed your analytical methods, there will be similar gaps in your results.</td>
</tr>
<tr class="odd">
<td>Prescriptive Analytics</td>
<td>Recommend actions or decisions.</td>
<td>The potential analytical methods are complex and require a large amount of quality and relevant data and computing power to be implemented appropriately. One should also consider the implications of the potential actions and decisions being considered using an equity lens. Striking the balance between data-driven insights and equity considerations is essential for advancing equity outcomes.</td>
</tr>
<tr class="even">
<td>Causal Analytics</td>
<td>Understand the cause and effect relationships between variables of interest.</td>
<td>All causal analytical tools require strong assumptions and can never fully capture all of the context of the relationships in questions (i.e.&nbsp;extraneous variables that cannot be measured or assessed). If these methods are used, be sure to ground-truth the results with the communities the data you’re using are meant to represent.</td>
</tr>
</tbody>
</table>
</section>
<section id="beware-of-common-data-fallacies" class="level3">
<h3 class="anchored" data-anchor-id="beware-of-common-data-fallacies"><strong>Beware of Common Data Fallacies</strong></h3>
<p>As with any analysis, we need to understand the limits of our data and the methods we use so we interpret the results we find appropriately. Below is an overview of common data fallacies to be aware of and avoid as you’re interpreting your results and making conclusions<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Data Fallacy</th>
<th>Description</th>
<th>Additional Equity Considerations</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><p>Cherry Picking</p>
<p><img src="images/data-fallacy_cherry-picking.png" class="img-fluid"></p></td>
<td>Selecting results that fit your hypothesis or claim, and excluding those that don’t.</td>
<td><p>This doesn’t mean you should <em>always</em> keep <em>all</em> data you have access to (see <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/collect-process/process.html">Data Processing</a>).</p>
<p>It’s important to be aware of data or results you are excluding and to be honest and transparent about <em>why</em> you’re excluding it.</p></td>
</tr>
<tr class="even">
<td style="text-align: center;"><p>Cobra Effect</p>
<p>(aka Perverse Incentive)</p>
<p><img src="images/data-fallacy_cobra-effect.png" class="img-fluid"></p></td>
<td>Setting an incentive that accidentally produces the opposite result to the one intended.</td>
<td><p>This is all about unintended consequences of our decisions and actions.</p>
<p>When you’re developing your project objectives, be sure to take the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html">Planning</a> step seriously and take the time needed to answer as many of the questions provided as possible.</p></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><p>Danger of Summary Metrics</p>
<p><img src="images/data-fallacy_danger-summary-metrics.png" class="img-fluid"></p></td>
<td>Only looking at summary metrics and missing big differences in the raw data.</td>
<td>Summary metrics or descriptive analytics can (and should!) be used to help us understand out data. However it’s important to remember that they cannot tell us anything about why we’re seeing the results, patterns, or trends that are identified. Be sure to use summary metrics in concert with context and other analyses so you can see your data holistically.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><p>Data Dredging</p>
<p><img src="images/data-fallacy_data-dredging.png" class="img-fluid"></p></td>
<td>Repeatedly testing new hypotheses against the same set of data, failing to acknowledge that most correlations will be the result of chance.</td>
<td><p>It can be exciting to uncover meaningful and logical correlations when conducting your analyses.</p>
<p>Similar to cherry picking, it’s important to be aware of your analytical methods (and their limitations), and to be honest and transparent about your project objectives before you begin your analysis (see <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/">Plan and Prepare</a>) as well as <em>why</em> you’re accepting or rejecting the results you get after analyses are conducted appropriately.</p></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><p>False Causality</p>
<p><img src="images/data-fallacy_false-causality.png" class="img-fluid"></p></td>
<td>Falsely assuming when two events appear related that one must have caused the other.</td>
<td>The classic: correlation does not imply causation. Adding context for which you don’t have data can help here. Discussing preliminary trends/results with partners and communities can help you ground truth the numerical results you’re seeing with the lived experiences of those that may be impacted by your project. See the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html">Planning</a> section on <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html#step-3.-collect-expert-input-including-from-affected-community-members">collecting expert input</a> for more guidance on outreach and engagement.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><p>Gambler’s Fallacy</p>
<p>(aka Monte Carlo Fallacy)</p>
<p><img src="images/data-fallacy_gamblers-fallacy.png" class="img-fluid"></p></td>
<td>Mistakenly believing that because something has happened more frequently than usual, it’s now less likely to happen in future (and vice versa).</td>
<td><p>To combat this fallacy it will be important to understand the context and “why” behind the results you are seeing. There are a number methods designed to help identify the the “why” (and there may be more than one reason!).</p>
<p>See the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/eval.html">Evaluation</a> section for guidance and remember that you don’t need to wait until the project is complete to benefit from using these evaluation tools! In fact, it may be helpful to use these tools at multiple points during your project or process.</p></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><p>Gerrymandering</p>
<p><img src="images/data-fallacy_gerrymandering.png" class="img-fluid"></p></td>
<td>Manipulating the geographical boundaries used to group data in order to change the result.</td>
<td>This is closely related to how you use geographical boundaries to aggregate or group your data. During your <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/">Plan and Prepare</a> phase, think through what geographic units are most appropriate for your project needs. Know that the data you have access to might be in one geographic unit (e.g.&nbsp;census tract, hydrologic unit code&nbsp;(HUC)) but your questions are related to a different unit (e.g.&nbsp;county, region, statewide) - so you may need to do some analyses to standardize units. Doing so has its benefits and <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/collect-process/collection.html#data-limitations">limitations</a>. No matter what analytical decision you make, it’s important to clearly <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/documentation.html">document</a> the reasoning behind your decision.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><p>Hawthorne Effect</p>
<p>(aka Observer Effect)</p>
<p><img src="images/data-fallacy_hawthorne-effect.png" class="img-fluid"></p></td>
<td>The act of monitoring someone can affect their behavior, leading to spurious findings.</td>
<td>This may not be directly relevant in the usual data work you do. However, it is particularly important when delivering <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/collect-process/collection.html#surveys">surveys</a>. Keep that in mind as you design, deliver, and analyze survey results.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><p>McNamara Fallacy</p>
<p><img src="images/data-fallacy_mcnamarra-fallacy.png" class="img-fluid"></p></td>
<td>Relying solely on metrics in complex situations and losing sight of the bigger picture.</td>
<td><p>It can be easy for some of us to get lost in the weeds of data analysis. What’s key here is to take a step back from time to time and continue to connect our analyses or product development back to the broader and contextualized project and equity goals you set for the project during your <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/">Plan and Prepare</a> phase.</p>
<p>Working with and/or discussing your analytical process and/or preliminary trends/results with partners and communities can also help you ground truth the numerical results you’re seeing with the lived experiences of those that may be impacted by your project, and pull you out of the data weeds and back into context-informed data work.</p></td>
</tr>
<tr class="even">
<td style="text-align: center;"><p>Overfitting</p>
<p><img src="images/data-fallacy_overfitting.png" class="img-fluid"></p></td>
<td>Creating a model that’s overly tailored to the data you have and not representative of the general trend.</td>
<td>Using data to describe the environment and inform our decisions is complex, and is even more so when applying an equity lens to our data work. What’s important here is to keep this in mind as you develop, test, and interpret models for your analyses.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><p>Publication Bias</p>
<p><img src="images/data-fallacy_publication-bias.png" class="img-fluid"></p></td>
<td>Interesting research findings are more likely to be published, distorting our impression of reality.</td>
<td><p>It’s important to remember that academic systems - like our government systems and including publishing institutions - have racist origins and biases that have excluded the science, research, and ways of knowing that have come from of Black, Indigenous, and other People of Color (BIPOC) communities. This is why taking the time to develop relationships and partnerships with the communities our decisions and actions may impact is crucial.</p>
<p>Including partners with the expertise that can only come from lived experiences in our projects from the beginnig, and giving that expertise the same weight as academic or research expertise can broaden our perspectives and help prevent publication (and other biases) from negatively impacting our project, process and advancement of equity.</p>
<p>See the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html">Planning</a> section on <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html#step-3.-collect-expert-input-including-from-affected-community-members">collecting expert input</a> for more guidance.</p></td>
</tr>
<tr class="even">
<td style="text-align: center;"><p>Regression Towards the Mean</p>
<p><img src="images/data-fallacy_regression-toward-mean.png" class="img-fluid"></p></td>
<td>When something happens that’s unusually good or bad, it will revert back towards the average over time.</td>
<td><p>A key component of this fallacy is that random chance influences the outcome. When looking at our data through an equity lens, we need to remember that racism and injustice are central to our collective history and can be traced back to <em>before</em> the founding of our country. We live and work in institutions and systems that have inherited those unjust decisions and processes. We know that, as government representatives, if we’re not clear and intentional about advancing racial equity in the work we do, it won’t happen and we will continue to perpetuate racial inequity. In other words, because of the unjust systems in which we work, we cannot depend on this fallacy and wait for the unusually “bad” or unjust results/trends to correct themselves or revert back to more equitable trends. <strong>Because government agencies created and perpetuated environmental racism, it is <u>our responsibility</u> to proactively advance racial equity and justice in all the work we do.</strong></p>
<p>If our collective history and its deep connection to racism and injustice are not familiar to you - we recommend taking the Advancing Racial Equity training series offered by the <a href="https://launcher.myapps.microsoft.com/api/signin/82768508-b765-4d4e-bc76-c73262ddb0cf?tenantId=fe186a25-7d49-41e6-9941-05d2281d36c1">Water Boards Training Academy</a> and reviewing the <a href="https://www.racialequityalliance.org/resources/racial-equity-toolkit-opportunity-operationalize-equity/">GARE Framework: Normalize, Organize, and Operationalize</a>. More details on both of these actions and others can be found on the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/get-started/">Getting Started</a> page. |</p></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><p>Sampling Bias</p>
<p><img src="images/data-fallacy_sampling-bias.png" class="img-fluid"></p></td>
<td>Drawing conclusions from a set of data that isn’t representative of the population you’re trying to understand.</td>
<td><p>During your <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/">Plan and Prepare</a> you will think through the type of data that’s needed to adequitely represent the populations related to your project objectives. If the data available is not adequately representative, then you may need to revise the types of questions you have of the data (and analytical methods). Or, it might be worth considering collecting the data yourself or with partners.</p>
<p>Note that this principle and others can also be applied to <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/collect-process/collection.html#surveys">surveys</a>. Keep that in mind as you design, deliver, and analyze survey results.</p></td>
</tr>
<tr class="even">
<td style="text-align: center;"><p>Simpson’s Paradox</p>
<p><img src="images/data-fallacy_simpsons-paradox.png" class="img-fluid"></p></td>
<td>When a trend appears in different subsets of data but disappears or reverses when the groups are combined.</td>
<td><p>This is critical when trying to understand and quantify how environmental outcomes might impact different groups. During your <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/">Plan and Prepare</a> phase, think through the different ways you might aggregate or disaggregate your data and consider what is appropriate for the questions you have.</p>
<p>Without disaggregating data by subgroup, analysis can unintentionally gloss over inequity and lead to invisible experiences. On the other hand, when analysts create a subgroup, they may be shifting the focus of analysis to a specific population that is likely already over-surveilled. (<a href="https://aisp.upenn.edu/wp-content/uploads/2022/07/AISP-Toolkit_5.27.20.pdf">Centering Racial Equity Throughout Data Integration</a>)</p>
<p>Each decision has its benefits and <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/collect-process/collection.html#data-limitations">limitations</a>. No matter what analytical decision you make, it’s important to clearly <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/documentation.html">document</a> the reasoning behind your decision.</p></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><p>Survivorship Bias</p>
<p><img src="images/data-fallacy_survivorship-bias.png" class="img-fluid"></p></td>
<td>Drawing conclusions from an incomplete set of data, because that data has ‘survived’ some selection criteria.</td>
<td><p>As soon as we get our hands on a dataset it can be tempting to dive into analysis without taking the time to consider that data in the context of our project goals and objectives. Sometimes the data we need to understand every aspect of ideal our project objectives simply does not exist or is not accessible.</p>
<p>It’s important to take the time during the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/">Plan and Prepare</a> phase to understand what data are needed to achieve the objectives of your project, what data are actually available, and to understand what all of that means for your <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/collect-process/">Collect and Process</a> phase, and how that might impact your interpretation.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="resources" class="level1">
<h1>Resources</h1>
<ul>
<li>College of Water Informatics <a href="https://www.waterboards.ca.gov/resources/oima/cowi/machine_learning_handbook.html">Machine Learning Handbook</a></li>
<li>Flood M. D., Lemieux V. L., Varga M., and Wong B. L. W. (2016) ‘<a href="https://doi.org/10.1016/j.jfs.2016.01.006">The application of visual analytics to financial stability monitoring</a>’, Journal of Financial Stability</li>
<li>DataCamp (2023) <a href="https://www.datacamp.com/cheat-sheet/the-data-information-knowledge-wisdom-pyramid">The Data-Information-Knowledge-Wisdom Pyramid</a></li>
</ul>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>The bulk of content in this section has been informed by or pulled directly from: <a href="https://www.geckoboard.com/best-practice/statistical-fallacies/">Geckoboard’s Data Fallacies</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/cawaterboarddatacenter\.github\.io\/equity-data-handbook\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../assure-analyze/qaqc.html" class="pagination-link" aria-label="Quality Assurance">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Quality Assurance</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../assure-analyze/vis.html" class="pagination-link" aria-label="Data Visualization">
        <span class="nav-page-text">Data Visualization</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© CC-By CA Water Board’s Office of Information Management and Analysis (OIMA), 2024</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/edit/main/assure-analyze/analysis.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/blob/main/assure-analyze/analysis.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This Handbook is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>