<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>vis – Equity Data Handbook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../store.html" rel="next">
<link href="../assure-analyze/analysis.html" rel="prev">
<link href="../images/WaterBoards_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-8ea72dc5fed832574809a9c94082fbbb.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-3e057be98967b9597352434b3b1b3b91.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-085f5a57a959e84a9ce3af88f228d1a5.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../assure-analyze/index.html">Assure &amp; Analyze</a></li><li class="breadcrumb-item"><a href="../assure-analyze/vis.html">Data Visualization</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/WaterBoards_logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      <div class="sidebar-tools-main tools-wide">
    <a href="https://www.waterboards.ca.gov/resources/oima/" title="OIMA" class="quarto-navigation-tool px-1" aria-label="OIMA"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook" title="Handbook Repo" class="quarto-navigation-tool px-1" aria-label="Handbook Repo"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Background</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../get-started/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting Started</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../get-started/common-language.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Establishing Common Language</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../publish-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Publish Your Data</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../plan-prep/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Plan &amp; Prepare</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../plan-prep/plan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../plan-prep/prep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Preparation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../collect-process/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collect &amp; Process</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../collect-process/collection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Collection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../collect-process/process.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Processing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../assure-analyze/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Assure &amp; Analyze</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assure-analyze/qaqc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quality Assurance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assure-analyze/analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assure-analyze/vis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Data Visualization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../store.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preserve &amp; Store</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../share.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Publish &amp; Share</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../eval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discover &amp; Integrate</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documentation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Describe</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../use-cases/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Use Cases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../use-cases/swamp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SWAMP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../use-cases/demographics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Demographics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resources</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../inspo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inspiration</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link active" data-scroll-target="#data-visualization">Data Visualization</a>
  <ul class="collapse">
  <li><a href="#general-data-visualization-considerations" id="toc-general-data-visualization-considerations" class="nav-link" data-scroll-target="#general-data-visualization-considerations">General Data Visualization Considerations</a>
  <ul class="collapse">
  <li><a href="#take-a-user-centered-design-approach" id="toc-take-a-user-centered-design-approach" class="nav-link" data-scroll-target="#take-a-user-centered-design-approach">Take a user-centered design approach</a></li>
  <li><a href="#use-plain-accessible-and-inclusive-language" id="toc-use-plain-accessible-and-inclusive-language" class="nav-link" data-scroll-target="#use-plain-accessible-and-inclusive-language">Use plain, accessible, and inclusive language</a></li>
  <li><a href="#consider-how-you-group-the-data" id="toc-consider-how-you-group-the-data" class="nav-link" data-scroll-target="#consider-how-you-group-the-data">Consider how you group the data</a></li>
  <li><a href="#tell-a-story-with-the-data" id="toc-tell-a-story-with-the-data" class="nav-link" data-scroll-target="#tell-a-story-with-the-data">Tell a story with the data</a></li>
  </ul></li>
  <li><a href="#data-visualization-design-considerations" id="toc-data-visualization-design-considerations" class="nav-link" data-scroll-target="#data-visualization-design-considerations">Data Visualization Design Considerations</a>
  <ul class="collapse">
  <li><a href="#alternative-text-alt-text" id="toc-alternative-text-alt-text" class="nav-link" data-scroll-target="#alternative-text-alt-text">Alternative Text (Alt Text)</a></li>
  <li><a href="#color" id="toc-color" class="nav-link" data-scroll-target="#color">Color</a></li>
  <li><a href="#figure-chart-types" id="toc-figure-chart-types" class="nav-link" data-scroll-target="#figure-chart-types">Figure &amp; Chart Types</a></li>
  <li><a href="#fonts-typography" id="toc-fonts-typography" class="nav-link" data-scroll-target="#fonts-typography">Fonts &amp; Typography</a></li>
  <li><a href="#labels" id="toc-labels" class="nav-link" data-scroll-target="#labels">Labels</a></li>
  <li><a href="#layout-ordering" id="toc-layout-ordering" class="nav-link" data-scroll-target="#layout-ordering">Layout &amp; Ordering</a></li>
  <li><a href="#maps" id="toc-maps" class="nav-link" data-scroll-target="#maps">Maps</a></li>
  <li><a href="#shapes-icons" id="toc-shapes-icons" class="nav-link" data-scroll-target="#shapes-icons">Shapes &amp; Icons</a></li>
  <li><a href="#tables" id="toc-tables" class="nav-link" data-scroll-target="#tables">Tables</a></li>
  </ul></li>
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources">Additional Resources</a>
  <ul class="collapse">
  <li><a href="#data-visualization-examples" id="toc-data-visualization-examples" class="nav-link" data-scroll-target="#data-visualization-examples">Data Visualization Examples</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/edit/main/assure-analyze/vis.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/blob/main/assure-analyze/vis.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../assure-analyze/index.html">Assure &amp; Analyze</a></li><li class="breadcrumb-item"><a href="../assure-analyze/vis.html">Data Visualization</a></li></ol></nav></header>




<section id="data-visualization" class="level1">
<h1>Data Visualization</h1>
<p>Effective and equitable communication of the information we have gleaned from our analyses involves strategic consideration of the audience and the mode of dissemination that most effectively conveys that information. There are many ways to communicate information, including briefs, interactive documents, websites, dashboards, social media content, data walks, posters, briefs, and infographics. Regardless of the form, content should integrate the recommendations below.</p>
<p>Effective data visualizations - the ones that stick with us, can help us understand complex issues, and those that encourage us to change our behaviors and actions to be more equitable, inclusive, and kind - are more than points on a map. Great data visualizations are communication tools that are user-centered and tell a compelling story that connects with the audience.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://blog.providence.org/center-for-outcomes-research-education/6-steps-toward-more-equitable-data-visualization"><img src="images/audience-content-medium-access.png" class="img-fluid figure-img" alt="Venn diagram with three overlapping circles: Content, Medium, and Access. Content is what you include in your communication and how you choose to say it. Medium is what form your communication takes, like the difference between a paper, and animated video, and a searchable database. Access is how easily and how completely your audience can engage with and understand your information. The content and medium work together to increase clarity and offer better depth. The medium of distribution supports the ideal accessibility for the information for each audience, including feedback and engagement. The content is created considering accessibility, including comprehension and cultural appropriateness. When all of the components intersect (i.e. the middle of the venn diagram), the product works for the intended audience."></a></p>
<figcaption>Venn diagram of the components of data communication that make a product work for a particular audience: Content, Medium and Access. Graphic from We All Count</figcaption>
</figure>
</div>
<p>When thinking of the Data-Information-Knowledge-Wisdom graphic at the top of the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/assure-analyze/analysis.html">Data Analysis</a> page: data visualizations are tools we can use to add context and meaning to data to create information and knowledge. Ideally, the insights gleaned from our visualizations can then be used to make data- and equity-informed decisions and to take effective and impactful action.</p>
<section id="general-data-visualization-considerations" class="level2">
<h2 class="anchored" data-anchor-id="general-data-visualization-considerations">General Data Visualization Considerations</h2>
<p>When it comes to creating data visualizations with an equity lens, it boils down to making decisions that consider equity and inclusion in the way results are shown and communicated, and that promote accessibility of the data, information, and tool as a whole. As you develop your data visualization or equivalent application - be sure to keep the below considerations in mind and make data, communication, and design choices that support the advancement of equity, inclusion, and justice.</p>
<section id="take-a-user-centered-design-approach" class="level3">
<h3 class="anchored" data-anchor-id="take-a-user-centered-design-approach">Take a user-centered design approach</h3>
<p>Consider who the audience will be for the product you’re developing and make decisions that will prioritize their needs so they are able to easily and efficiently use, engage and interact with the product.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.justinmind.com/blog/user-centered-design/"><img src="images/user-centered-design.png" class="img-fluid figure-img" alt="Graphic illustrating three key components of the user-centered design process: Research, Empathy, and Iteration. Image from Justinmind (2020)"></a></p>
<figcaption>Graphic illustrating three key components of the user-centered design process: Research, Empathy, and Iteration. Image from Justinmind (2020)</figcaption>
</figure>
</div>
<p><strong><em>Research</em></strong> - Let’s use an equity lens here. Instead of “researching” your users and audience, try getting to know them by prioritizing relationship and trust building through meaningful engagement. Ideally, by the time you’re at this data visualization phase, you have already identified the audience and key partners, and have been working or engaging with them during other phases of the project. See the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html">Planning</a> section on <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html#step-3.-collect-expert-input-including-from-affected-community-members">collecting expert input</a> for more guidance on outreach and engagement.</p>
<p><strong><em>Empathy</em></strong> - According to Dr.&nbsp;Brené Brown: <a href="https://bouldercrest.org/resources/brene-brown-what-is-empathy/">empathy is about feeling <em>WITH people, and requires four qualities</em></a>:</p>
<ul>
<li>Perspective taking and believing the other person when they share their experience with you</li>
<li>Staying out of judgement and listening</li>
<li>Recognizing emotion in another person that you have maybe felt before</li>
<li>Communicating that you can recognize that emotion</li>
</ul>
<p>Integrating empathy into our data-intensive work requires us to consider how our audience and/or the communities whose data are being used will perceive or be impacted by our work. It means ensuring we’re developing the product and thinking about the data as more than mere points on a map or visualization, but as representing real humans, environments, and conditions that should be contextualized and considered with care. Some <a href="https://datajournalism.com/read/longreads/data-visualisations-with-empathy">questions to consider include</a>:</p>
<ul>
<li><strong>Who is vulnerable in this context and how would they want to be counted?</strong></li>
<li><strong>What information would they need to improve their lives?</strong></li>
<li><strong>Who is undercounted or possibly missing entirely?</strong></li>
<li><strong>Who was counted? Who did the counting? Why were they asking these people?</strong></li>
<li><strong>Who benefits or is harmed if you forget the dots are people?</strong></li>
</ul>
<p><strong><em>Iteration</em></strong> - The key here is knowing and planning for an iterative process from the beginning. Add the feedback, implementation, and testing loop(s) into your project plan and allocate appropriate time and resources to adequately support each step. When working with partners or communities using an iterative approach, be sure to consider:</p>
<ul>
<li><strong>When it is appropriate to ask for feedback, and when it might be burdensome?</strong></li>
<li><strong>What are the different ways feedback might be gathered?</strong> We might think sending an email with a poll or survey linked is the easiest, but our partner might find it easier to talk through questions over the phone with you. Knowing which method(s) to use comes with time and relationship. When in doubt - ask for what people prefer and do your best to accommodate those needs.</li>
<li><strong>How much time is adequate for folks to be able to review what you send them and provide their feedback?</strong> When in doubt - plan for a longer feedback period than you think might be needed and confirm timelines with your partners (and adjust them if you can when your partners indicate more or less time is needed)</li>
</ul>
</section>
<section id="use-plain-accessible-and-inclusive-language" class="level3">
<h3 class="anchored" data-anchor-id="use-plain-accessible-and-inclusive-language">Use plain, accessible, and inclusive language</h3>
<p>Centering racial equity means paying attention to how to most effectively convey information to the audience, and ensuring that the content is using plain, accessible, and inclusive language.</p>
<p><strong><em>Plain Language</em></strong> - Plain language is writing designed to ensure the audience can understand what you’re trying to communicate as easily, quickly, and comprehensively as possible. This means:</p>
<ul>
<li>Avoiding convoluted or verbose language</li>
<li>Avoiding the use of jargon and acronyms</li>
<li>Making critical information easy to see and understand</li>
<li>Using a conversational rather than legal or bureaucratic tone</li>
</ul>
<p>For more guidance on plain language, see:</p>
<ul>
<li><a href="https://centerforplainlanguage.org/learning-training/five-steps-plain-language/">Center for Plain Language</a></li>
<li><a href="https://www.plainlanguage.gov/">PlainLanguage.gov</a></li>
<li>Water Boards Staff may also <a href="https://cawaterboards.sharepoint.com/OPP/Resources/SitePages/Home.aspx">request plain language review from the Office of Public Participation</a>, although that service is more geared towards the review of fact sheets, brochures, and FAQs rather than data visualizations or other data products at this time.</li>
<li>Healthy Watershed Partnership <a href="https://mywaterquality.ca.gov/monitoring_council/healthy_watersheds/assessment_guidance/communicate_results.html">Guidance on Communicating Results</a></li>
</ul>
<p><strong><em>Accessible Language</em></strong> - Making language accessible to your audience may also require the translation of products (or product components) into the primary languages used by your audience. The <a href="https://app.powerbigov.us/view?r=eyJrIjoiMjc0YjQ2ZWQtZWU2OS00N2NjLTllODgtY2VhOTk3NDBkMjM2IiwidCI6ImZlMTg2YTI1LTdkNDktNDFlNi05OTQxLTA1ZDIyODFkMzZjMSJ9&amp;pageName=ReportSection">Water Board’s Linguistic Isolation Tool</a> can be used to help understand the different languages that are used by communities across the state.</p>
<p>Water Boards Staff may also <a href="https://cawaterboards.sharepoint.com/OPP/Resources/SitePages/Language%20Services.aspx?csf=1&amp;web=1&amp;e=arv47O">request translation services from the Office of Public Participation</a>, although that service is more geared towards the translation of documents, rather than data visualizations or other data products at this time.</p>
<p><strong><em>Inclusive Language</em></strong> - Words matter. The language we use in our products can be a way for us to show respect, empathy, and care for the communities connected to or impacted by the data. It’s important to be mindful of the language and terms we use (see <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/get-started/common-language.html#non-inclusive-terms-to-avoid">Non-Inclusive Terms to Avoid</a> for examples). The <a href="https://ncstoragemlunchealthcare.blob.core.windows.net/public/pdf-system-data-visualization-standards.pdf">UNC Health’s Equity and Inclusion Analytics Workgroup</a> recommends we ask ourselves the following questions when we need to decide on language to use in our data products:</p>
<ul>
<li><p><strong>Do the words seek to fix, blame, shame, or change communities that are most marginalized, OR do they seek to address the oppressive systems that impact these communities?</strong></p></li>
<li><p><strong>Are the words racialized?</strong> Do the terms have a racist or colonialist implication? An example is the phrase “at risk.” Close your eyes and say the phrase “at risk.” Does a picture of a certain group or community come to mind? If so, stop and pick another word.</p></li>
<li><p><strong>How am I framing the words?</strong> What is the context and culture we are creating and perpetuating by using the words? Are the words positioning the communities we serve to live in their personal and collective power while addressing systemic oppression?</p></li>
<li><p><strong>Do the words dehumanize the communities we serve?</strong> Words that take away agency, self-determination, or personal power and do not recognize communities’ inherent strengths and assets should be avoided.</p></li>
</ul>
</section>
<section id="consider-how-you-group-the-data" class="level3">
<h3 class="anchored" data-anchor-id="consider-how-you-group-the-data">Consider how you group the data</h3>
<p>Review considerations provided on the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/collect-process/collection.html#consider-how-you-will-group-the-data">Data Collection</a> page and think through how those should be applied as you visualize and communicate the data and results of your project.</p>
</section>
<section id="tell-a-story-with-the-data" class="level3">
<h3 class="anchored" data-anchor-id="tell-a-story-with-the-data">Tell a story with the data</h3>
<blockquote class="blockquote">
<p>“While data may seem cut and dry, people are not”</p>
<p>- <a href="https://datajournalism.com/contributors/pkimbui">P. Kim Bui</a>, Director of audience innovation at the Arizona Republic and author of <a href="https://datajournalism.com/read/longreads/data-visualisations-with-empathy">Designing data visualisations with empathy</a></p>
</blockquote>
<p><a href="https://medium.com/the-protagonist/the-science-behind-storytelling-51169758b22c">Humans are hardwired for story</a>. Plopping points on a map or throwing together an interactive chart without adding context is not only insufficient, its ineffective!</p>
<p>Take the time to tell a story with the visualization or product you’re developing. Walk the audience through the the messages you want to convey - connect with their emotions, and back it up with the data. If you’re unsure what the story of your data is, or how to communicate it effectively, try collecting and distilling your thoughts using a <a href="https://www.compassscicomm.org/the-message-box-workbook">COMPASS Message Box</a>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.compassscicomm.org/wp-content/uploads/2020/05/The-Message-Box-Workbook.pdf"><img src="images/compass-box.png" class="img-fluid figure-img" alt="The COMPASS Message Box with six sections and associated brainstorm questions: Audience (Who is impacted by this? Who can change this? Who cares about this?), Issue (Broadly, what are you working on? What keywords would you search to find your topic online?), Problems? (What specific dimension of the issue are you addressing?), So What? (What does your audience value? How does this impact them or something they care about?), Solutions? (What can be done to address the problem? Or what are you doing to address it?) and Benefits? (Who does this help and how? What improves in the short-term? Long-term?)"></a></p>
<figcaption>The COMPASS Message Box is a tool to help scientists sort and distill their (often technical or complex) knowledge in a way that will resonate with their chosen audience. Users complete the sections in any order and can then use the distilled information to communicate their science more effectively.</figcaption>
</figure>
</div>
<p><a href="https://islandpress.org/books/escape-ivory-tower#desc"><em>Escape from the Ivory Tower: A Guide to Making Your Science Matter</em></a> (Baron, 2010) is another great science communication resource.</p>
</section>
</section>
<section id="data-visualization-design-considerations" class="level2">
<h2 class="anchored" data-anchor-id="data-visualization-design-considerations">Data Visualization Design Considerations</h2>
<p>This section walks through the different design decisions data practitioners must think through when developing a data visualization or similar data product, and provides recommendations on how to approach the work through a lens of accessibility, equity, and inclusion.</p>
<p>Data visualization design is composed of a series of compromises: Complexity vs Clarity. Depth vs.&nbsp;Speed. Pretty vs.&nbsp;Practical. The best visualizations maximize all of these, but usually, you have to prioritize some things over others. When designing a data visualization or similar data communication product, data practitioners should make decisions with their audience and equity in mind and do their best to follow the recommendations below to make the final data product as accessible and inclusive as possible.</p>
<section id="alternative-text-alt-text" class="level3">
<h3 class="anchored" data-anchor-id="alternative-text-alt-text">Alternative Text (Alt Text)</h3>
<p>Alt Text is descriptive text, usually associated with images or figures, that conveys the meaning and context of the item. When creating alt text, remember:</p>
<ul>
<li>It should complement the caption and not replicate it</li>
<li>Use language to describe what the audience should take away from looking at the item</li>
<li>If there is text in the item, that text should be spelled out in the alt text</li>
</ul>
<p>Test to see if your alt text is effective by asking a colleague or project partner to listen to you (or a screen reader - see below) read the text aloud to them BEFORE they look at the item. Then, have them look at the item and ask if there are other details about the item that stand out to them as contributing to the meaning behind the item. If there are, add them in!</p>
<p>Screen readers are computer software that read the text aloud and include programs like NVDA, JAWS, Acrobat, Word. A screen reader may already be integrated into your data visualization tool - if not, <a href="https://www.nvaccess.org/download/">NVDA</a> is free to download and is the Water Boards standard.</p>
</section>
<section id="color" class="level3">
<h3 class="anchored" data-anchor-id="color">Color</h3>
<p>Color can be a powerful communicator that should be selected purposefully. If we aren’t intentional with the colors we choose we may be unintentionally perpetuating stereotypes, creating hierarchies, or using color palettes that are not accessible to those with color vision differences.</p>
<p>When selecting colors for your visualization or data product, consider the recommendations from the <a href="https://ncstoragemlunchealthcare.blob.core.windows.net/public/pdf-system-data-visualization-standards.pdf">UNC Health’s Equity and Inclusion Analytics Workgroup</a> and the <a href="https://urbaninstitute.github.io/graphics-styleguide/">Urban Institute Data Visualization Style Guide</a>:</p>
<ul>
<li><p><strong>Select the color palettes according to the message you’re trying to convey:</strong></p>
<ul>
<li><p>Categorical palettes are best when you want to distinguish discrete chunks of data that do not have an inherent ordering. It’s best to use a palette that has bold, contrasting, non-gradient colors.</p></li>
<li><p>Sequential palettes are best when data range from relatively low or uninteresting values to relatively high or interesting values. It’s best to use a palette that has a relatively subtle shift in hue accompanied by a large shift in brightness and saturation.</p></li>
</ul></li>
<li><p><strong>Avoid reinforcing stereotypes</strong> (e.g.&nbsp;using pink to represent female populations, and blue to represent male populations, using colors associated with skin tones or racial stereotypes).</p></li>
<li><p>When thinking about demographic data:</p>
<ul>
<li><p><strong>Not using color to differentiate between demographic groups helps avoid unintentionally creating a hierarchy between groups and reinforcing stereotypes</strong>, and instead enables color to be used to highlight group differences and assist with interpreting the data.</p></li>
<li><p><strong>If color is determined to be necessary to differentiate between groups, the palette should be chosen carefully.</strong> Avoid using incremental color palettes (e.g., light to dark) to represent different demographic groups. Bold and contrasting, non-gradient color palettes are a best practice when displaying demographic data and incorporating color.</p></li>
<li><p><strong>Consider plotting data disaggregated by race or ethnicity in their own separate charts, instead of plotting all disaggregated groups together in a single chart.</strong></p>
<ul>
<li><p>Plotting all groups on the same chart encourages comparison using a “<a href="https://urban-institute.medium.com/applying-racial-equity-awareness-in-data-visualization-bd359bf7a7ff">deficit-based perspective</a>” that focuses attention on what low-performing / worse off groups are lacking when compared with the high performing / better off groups.</p></li>
<li><p>Plotting a set of small multiples faceted by each racial or ethnic group can better encourage viewers to think about the specific needs and challenges facing each group.</p></li>
</ul></li>
</ul></li>
<li><p><strong>Avoid using red to green color combinations.</strong> Daltonism (i.e., <a href="https://www.colourblindawareness.org/colour-blindness/types-of-colour-blindness/">Dichromacy</a>) is the most common type of color vision difference, affecting up to 1 in 12 males (8%) and 1 in 200 females (0.5%), and it makes certain shades of green look more red.</p></li>
<li><p><strong>Do not use color or shading alone to convey data or information.</strong> Instead pair color with patterns, textures, or shapes to convey data or information.</p></li>
<li><p><strong>Avoid using too many colors, shapes, and/or patterns at the same time.</strong> Our brains can really only hold (or effectively understand) three to five complex concepts at once. If you need to use six or more colors to represent the data - it might feel cluttered or overwhelming to the viewers. Consider consolidating categories or breaking up the chart into multiple smaller charts as described above.</p></li>
<li><p><strong>A 3:1 contrast ratio is required for figures if a person must perceive a graphic in order to understand the content</strong> (e.g., colored lines in graphs, points on maps). However, <strong>text that is embedded in a graphic must meet a contrast ratio of 4.5:1</strong> unless the text is incidental or there is no way of presenting the graphic with sufficient contrast without undermining the meaning. Use the <a href="https://www.tpgi.com/color-contrast-checker/">Colour Contrast Analyser</a> (CCA) or equivalent software to determine if the figure meets the ratio requirements.</p></li>
</ul>
<p>Tools to help with color selection may already be integrated into your data visualization tools - if not, some other resources include:</p>
<ul>
<li><a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">Color Brewer</a> – tool to help create accessible color schemes for maps</li>
<li>Non-exhaustive list of color vision difference simulators – <a href="https://colororacle.org/">Color Oracle</a>, <a href="https://www.color-blindness.com/coblis-color-blindness-simulator/">Coblis</a></li>
<li>Non-exhaustive list of color palette packages for R – <a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">Base R Color Palette Guide</a>, <a href="https://rdrr.io/cran/RColorBrewer/man/ColorBrewer.html">RColorBrewer</a>, <a href="https://jakubnowosad.com/rcartocolor/">rcartocolor</a>, <a href="https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html">viridis</a></li>
<li><a href="https://paletton.com">Paletton</a> – tool to help explore colors and palettes</li>
<li><a href="https://webaim.org/resources/contrastchecker/">WebAIM</a> – color contrast checker</li>
</ul>
</section>
<section id="figure-chart-types" class="level3">
<h3 class="anchored" data-anchor-id="figure-chart-types">Figure &amp; Chart Types</h3>
<p>As data practitioners, you decide how your audience will be able to view the data through your visualization or data product. While we might <em>think</em> that data are objective (spoiler - they’re not), how they’re presented impacts how they’re interpreted, perceived, and ultimately valued and acted upon. How we present the data impacts which stories we tell (or don’t tell).</p>
<p>The graphic below, from <a href="https://direct.mit.edu/books/book/4660/Data-Feminism"><em>Data Feminism</em></a><em>,</em> illustrates how the same data can tell different stories depending on their presentation. The graphic on the left tells a story of how the unemployment rate has fallen substantially since its recent peak and might be interpreted as “good news”. The graphic on the right tells a story of how the unemployment rate has been consistently above 8% for a long time period and might be interpreted as “bad news”.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/graphic-ex-data-femenism.png" class="img-fluid figure-img"></p>
<figcaption>Two figures presenting the same data in different ways. Graphic from Data Feminism</figcaption>
</figure>
</div>
<p>When selecting figure or chart types for your visualization or data product, consider:</p>
<ul>
<li><p><strong>How does the chart you use frame or present the data?</strong> What is the context and culture we are creating and perpetuating by presenting the data in that way? Are the charts we’re using positioning the communities we serve to live in their personal and collective power while addressing systemic oppression?</p></li>
<li><p><strong>Is the chart used appropriate for the data you want to display?</strong> Think about your variables (string/categorical and numeric), the volume of data, and the question you are attempting to answer or the story you’re trying to tell through the visualization or data product.</p></li>
<li><p><strong>Will the chart type be easily interpreted by the audience?</strong> Sometimes data practitioners might be inclined to use a complex chart so we can display more data at once (or just because we think it’s cool!). In moments like these, remember the words of Leonardo da Vinci — “Simplicity is the ultimate sophistication.” Think about what will be the most easy to understand and impactful for your audience.</p></li>
<li><p><strong>How can I use the textual components of the chart (i.e., title, axis and other labels, legend, notes, caption, tooltips) to communicate simply and with clarity?</strong> More is not always more here. If context is provided elsewhere in the visualization or data product, maybe the title, caption, or tooltips are redundant. If there is only one data category that can be described by the title or caption, maybe a legend is not necessary. Think about what is essential and what can be removed or omitted to improve your clarity and communication.</p></li>
<li><p><strong>How can other chart components (i.e.&nbsp;gridlines, axis lines/ticks, scales, spacing) be used to communicate simply and with clarity?</strong> If you have a lot of data on the chart - do gridlines help make sense of things, or cause confusion and clutter? Are there enough empty or negative spaces in the chart so that viewers are given the “visual breathing room” needed to easily absorb the messages you’re hoping the data conveys?</p></li>
</ul>
<p>Tools to help with chart selection include:</p>
<ul>
<li><a href="https://coolinfographics.com/dataviz-guides">Cool Infographics Data Visualization Guides</a> – collection of data visualization chart choosers, reference guides, cheat sheets, websites and infographics about data visualization design best practices.</li>
</ul>
</section>
<section id="fonts-typography" class="level3">
<h3 class="anchored" data-anchor-id="fonts-typography">Fonts &amp; Typography</h3>
<p>The fonts and typography we use determine how easy (or not) it is for the audience to efficiently read and comprehend whatever it is you’re trying to communicate. Typography (the art and technique of arranging type to make written language legible, readable and appealing when displayed) within a chart and visualization is a way to establish a hierarchy among elements within the visualization or data product and guides the reader through the visual product.</p>
<p>When selecting fonts and typography for your visualization or data product, consider:</p>
<ul>
<li><p><strong>Are the fonts you’re using accessible?</strong> The Water Boards recommends that all fonts (including in tables and figures) must be sans serif (e.g.&nbsp;Arial, Calibri, Helvetica), 12 point or larger. Serif fonts (e.g.&nbsp;Times New Roman) and fonts sized 11 points or lower (even in captions, tables, figures, etc.) should be avoided.</p></li>
<li><p><strong>How many different font and size combinations are being used at once?</strong> Similar to the principles outlined in the color section above, using too many different types of fonts and sizes can make the visualization or data product feel cluttered or overwhelming to the viewers. Consider consolidating your use of fonts by giving different types of information with the same level of importance the same font and size.</p></li>
<li><p><strong>Does the text have enough space around it?</strong> Some users may have cognitive disabilities or visual impairments that results in them having trouble reading lines of text when they’re too closely spaced. By prioritizing <a href="https://accessiblyapp.com/blog/cognitive-accessibility/">types of cognitive accessibility</a> through thoughtful spacing, you contribute to a more inclusive visualization or data product.</p>
<ul>
<li><p>For paragraphs - give the reader at least 1.15 pt spacing <em>within</em> paragraphs and at least 6 pt spacing after (or between) each paragraph.</p></li>
<li><p>For lists - if the list contains only a few words on each line, 1.15 pt spacing may be sufficient. If each item in the list has multiple lines of text, treat it as you would a paragraph and use 1.15 pt spacing <em>within</em> each list and at least 3 pt spacing after (or between) each item in the list.</p></li>
<li><p>For items within a chart - make sure the default spacing is sufficient. If items feel cramped, see if you can add spacing among items or reduce the amount of text needed for that particular item (e.g.&nbsp;shorten the title so it’s only a few words on a single line rather that a full sentence)</p></li>
<li><p>Specific recommendations the <a href="https://www.w3.org/">World Wide Web Consortium</a> Web Content Accessibility Guidelines (WCAG) 2.1 on <a href="https://www.w3.org/WAI/WCAG21/Understanding/text-spacing.html">Text Spacing</a> include:</p>
<ul>
<li>Line height (line spacing) to at least 1.5 times the font size;</li>
<li>Spacing following paragraphs to at least 2 times the font size;</li>
<li>Letter spacing (tracking) to at least 0.12 times the font size;</li>
<li>Word spacing to at least 0.16 times the font size.</li>
</ul></li>
</ul></li>
</ul>
<p>Tools to help with fonts &amp; typography include:</p>
<ul>
<li><a href="https://www.urban.org/">Urban Institute</a> <a href="https://urbaninstitute.github.io/graphics-styleguide/">Data Visualization Style Guide</a> - <a href="https://urbaninstitute.github.io/graphics-styleguide/">Chart Typography Section</a></li>
</ul>
</section>
<section id="labels" class="level3">
<h3 class="anchored" data-anchor-id="labels">Labels</h3>
<p>The labels we use in our data products highlight or center the extent to which we reduce people and their experiences to components of our visualization or position and frame those same communities to live in their personal and collective power while addressing systemic oppression. Being mindful of the labels we use in our data products can help us connect and build trust with the communities that the data represents.</p>
<p>When selecting the labels for your visualization or data product:</p>
<ul>
<li><p><strong>Use clear and concise labels.</strong></p></li>
<li><p><strong>Use full labels such as “Black people” rather than “Black.”</strong></p></li>
<li><p><strong>Avoid using labels that reinforce stereotypes or inequitable or unjust norms.</strong></p></li>
<li><p><strong>When describing people from certain demographics, use descriptors that reflect the preferences of the communities it represents as much as you can.</strong></p>
<ul>
<li>Language continues to evolve. Certain labels that may have been acceptable years ago may no longer be, and we should adjust our labeling accordingly. The <a href="https://ncstoragemlunchealthcare.blob.core.windows.net/public/pdf-system-data-visualization-standards.pdf">UNC Health’s Equity and Inclusion Analytics Workgroup</a> notes that, for consistency and clarity, the data descriptors should match the categories used during data collection. However, if the data source you’re using has outdated language, updated language should be used in the label, and the outdated language can be noted in tooltips, comments, or footnotes of your visualization.</li>
</ul></li>
<li><p><strong>Be mindful of how labels are ordered.</strong> Ordering items as they appear in the data may reflect and reinforce historical biases. The <a href="https://www.urban.org/">Urban Institute</a> <a href="https://www.urban.org/sites/default/files/2021/06/08/do-no-harm-guide-recommendations.pdf">Do No Harm Guide</a> recommends considering alternative sorting parameters such as study focus, specific story or argument, quantitative relationship (i.e., magnitude of the results), alphabetical, or sample size (weighted or unweighted).</p></li>
</ul>
</section>
<section id="layout-ordering" class="level3">
<h3 class="anchored" data-anchor-id="layout-ordering">Layout &amp; Ordering</h3>
<p>How we layout the different components of our visualizations and data products - like color and typography - guides the reader through the their experience with said product. The order in which we present things establishes a hierarchy among elements that can indicate what we deem as important, significant or most valuable within product.</p>
<p>When selecting the layout of the different components of your visualization or data product, consider:</p>
<ul>
<li><p><strong>Does the structure of your visualization resonate with how your audience sees the aspects of the data?</strong>&nbsp;</p></li>
<li><p><strong>Are you including (or excluding) elements arbitrarily or by default?</strong> Think about what would be meaningful to include (or not) for your audience. Are you adding items that don’t add value or context to the data story? If so, consider removing them. Are you removing items out of habit that should actually be included? If so, consider adding them.</p></li>
<li><p><strong>Are your captions, legends, and notes in intuitive locations?</strong></p>
<ul>
<li><p>Captions should go above tables, but below charts, images, and figures.</p></li>
<li><p>Legends should stretch across the top of the chart, or to the right to make it easier for the viewer to orient themselves to the information in the product.&nbsp;</p></li>
<li><p>Notes about a specific item (e.g.&nbsp;table, chart) should go below the item (and its caption, as applicable).</p></li>
<li><p>Footnotes should go at the bottom of the page and only include crucial contextual information that is not explained elsewhere.</p></li>
</ul></li>
</ul>
<p>When ordering different components of your visualization or data product, consider:</p>
<ul>
<li><p><strong>Are data and categories ordered with intention and in a way that does not perpetuate historical biases?</strong> Which group(s) we choose to list first in figures, tables, and legends can influence how relationships and hierarchies are perceived.</p>
<ul>
<li>The <a href="https://urban-institute.medium.com/applying-racial-equity-awareness-in-data-visualization-bd359bf7a7ff">Urban Institute notes</a> that, always starting with “White” or “Men” can make these groups appear as the default against which other groups should be compared, suggesting they’re the most important populations. How we choose to order may also reflect who we view as the intended audience for our visualizations. Starting with “White” or “Men” can make it seem as though those are the most important groups we are trying to communicate with.</li>
</ul></li>
<li><p>The <a href="https://www.urban.org/">Urban Institute</a> <a href="https://www.urban.org/sites/default/files/2021/06/08/do-no-harm-guide-recommendations.pdf">Do No Harm Guide</a> recommends considering alternative sorting parameters for data, tables, and graphs such as:</p>
<ul>
<li><p><strong>Does your study focus on a particular community?</strong> If it does, that group should be presented first.</p></li>
<li><p><strong>Is there a particular argument or story you are trying to tell?</strong> If so, the order or presentation of results should reflect that argument.</p></li>
<li><p><strong>Is there a quantitative relationship that can guide how the groups are ordered?</strong> Can they be sorted alphabetically or by population size, sample size (weighted or unweighted), or magnitude or effect of the results?</p></li>
</ul></li>
</ul>
</section>
<section id="maps" class="level3">
<h3 class="anchored" data-anchor-id="maps">Maps</h3>
<p>Maps can be powerful and intuitive ways to give place to the data you’re using in your visualization. However, just like all other visualizations, a map with points, lines, or polygons and zero context is not helpful and can actually be counter productive.</p>
<p>When thinking about and building your map, consider:</p>
<ul>
<li><p><strong>Is showing your geographic data on a map the best way to get your message across?</strong> <a href="https://urbaninstitute.github.io/graphics-styleguide/">The Urban Institute</a> notes that at times, there may be more efficient forms of storytelling (other than maps) that can get your point across more clearly. Specifically, if your data shows a very clear geographic trend or if the absolute location of a place or event matters, maps might be the best approach, <a href="http://www.ericson.net/content/2011/10/when-maps-shouldnt-be-maps/">but sometimes the reflexive impulse to map the data can make you forget that showing the data in another form might answer other—and sometimes more important—questions.</a> Consider using other graphic types when the interesting patterns are not geographic patterns, or when the geographic data is more effective for analysis than for presentation for your audience (i.e., a simple bar chart, column chart, scatterplot or table).</p></li>
<li><p><strong>Is the map projection you’re using appropriate?</strong></p>
<ul>
<li><p>Simple interactive county- or state-level maps also use the Albers projection.</p></li>
<li><p>US maps for print publication, or use in reports should use the Albers Equal Area projection.</p></li>
<li><p><a href="http://apps.urban.org/features/ncdb/immigrants-reshaping-residential-segregation/index.html#">Zoomable tile-based interactive maps</a>&nbsp;use the Mercator projection.</p>
<p>Note that how a map is projected can influence the story being told, who is centered, and who is valued by the viewed, especially as you scale up. A great example of how map projections can impact our perception is summarized in the below clip from <em>The West Wing.</em> This <a href="https://www.forbes.com/sites/chuckswoboda/2020/07/14/what-this-3-minute-scene-from-the-west-wing-about-maps-can-teach-you-about-leadership/">Forbes article</a> summarizes the scene well: The White House Press Secretary C.J. Gregg (Allison Janney) grants an audience to a group of socially minded cartographers on a noble mission: to convince the President to officially adopt a new global map that is more respectful of Third World countries. The group explains why conventional world maps are wrong and, worse, how this leads to misguided social perspectives that extend far beyond geography.</p>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/vVX-PrBRtTY" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></li>
</ul></li>
<li><p><strong>Is the geography you’re using to visualize the data appropriate?</strong> The <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/assure-analyze/vis.html#consider-how-you-group-the-data">considerations we outlined above about grouping data</a> also apply here, with an added geographic context, since the geography you use in your map (e.g., zip codes, census tracts, counties, watersheds, regions, etc.) will impact how the audience interacts with the map or visualization. The <a href="https://ncstoragemlunchealthcare.blob.core.windows.net/public/pdf-system-data-visualization-standards.pdf">UNC Health’s Equity and Inclusion Analytics Workgroup</a> notes that, zip codes may be convenient and readily available, but they represent expedient routes for postal delivery, not “natural” communities. This can cause analysis that disguises disparities, such as the <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8301226/">example in Flint made by Sadler (2019)</a>.</p></li>
<li><p><strong>Is the color on the map effective?</strong> Maps tend to have more colors involved by nature (i.e.&nbsp;because of the inclusion of base maps, etc.). Take special care to adopt the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/assure-analyze/vis.html#color">considerations about color outlined above</a> to ensure the map, data, and story you’re trying to tell are as accessible as possible.</p></li>
</ul>
<p>Tools to help with map development include:</p>
<ul>
<li><a href="https://mn.gov/mnit/about-mnit/accessibility/maps/">State of Minnesota Map Accessibility Page</a> – provides information on best practices for accessibility in static maps, web maps and applications.</li>
<li>Non-exhaustive list of ESRI resources:
<ul>
<li><p><a href="https://www.youtube.com/watch?v=miTPT68kjto">Accessible Web Mapping Apps</a> – recording from the 2020 ESRI Developer Summit</p></li>
<li><p><a href="https://arcgis-accessibility-showcase-science.hub.arcgis.com/">ESRI ArcGIS Accessibility Showcase (requires ESRI login)</a></p></li>
<li><p><a href="https://esri-es.github.io/awesome-arcgis/arcgis/accessibility/">ESRI GitHub Accessibility Repository</a> – information on making AGOL/Portal maps accessible</p></li>
<li><p><a href="https://jimmieego.github.io/Web-Accessibility-Best-Practices/#/">Web Accessibility Best Practices</a> – slides from 2019 ESRI GeoDev Webinar</p></li>
<li><p><a href="https://www.esri.com/arcgis-blog/products/story-maps/sharing-collaboration/improve-accessibility-of-your-story-map-journal-by-adding-alternative-text/">Improve accessibility of your Story Map by adding alternative text</a> – ESRI blog post</p></li>
<li><p><a href="https://doc.arcgis.com/en/web-appbuilder/latest/create-apps/accessibility-support.htm">ArcGIS Web AppBuilder accessibility support documentation</a></p></li>
<li><p><a href="https://learn.arcgis.com/en/projects/create-a-social-equity-index-to-improve-public-health/">ArcGIS Social Equity Analysis tool documentation</a></p></li>
<li><p><a href="file:///C:/Users/aholder/Downloads/Extend_the_Reach_of_Your_GIS.1%20(1).pdf">ArcGIS Online Tips &amp; Best Practices to Extend the Reach of your GIS</a></p></li>
<li><p><a href="https://doc.arcgis.com/en/hub/content/prepare-your-content.htm">ArcGIS Hub guidance on improving the display of your content on a site and in search results</a></p></li>
<li><p><a href="https://doc.arcgis.com/en/arcgis-online/reference/content-categories.htm">ArcGIS, ISO and INSPIRE Content Category recommendations</a></p></li>
</ul></li>
</ul>
</section>
<section id="shapes-icons" class="level3">
<h3 class="anchored" data-anchor-id="shapes-icons">Shapes &amp; Icons</h3>
<p>Similar to color, the shapes and icons we use in our our data visualizations or other data products can help the audience connect with the data, but we need to be thoughtful about what shapes and icons we use, how we use them, and how they may be perceived to avoid unintentionally perpetuating stereotypes or creating hierarchies.</p>
<p>When selecting shapes and icons for your visualization or data product, consider the recommendations from the <a href="https://ncstoragemlunchealthcare.blob.core.windows.net/public/pdf-system-data-visualization-standards.pdf">UNC Health’s Equity and Inclusion Analytics Workgroup</a> and the <a href="https://www.urban.org/research/publication/do-no-harm-guide-applying-equity-awareness-data-visualization">Urban Institute Do No Harm Guide</a>:</p>
<ul>
<li><p><strong>Avoid reinforcing stereotypes</strong> (e.g., a woman as a nurse but a man as a doctor). Mis- or underrepresentation of certain groups in imagery and iconography fails to take a racial or gender equity awareness perspective toward our data visualization work and can reinforce and perpetuate stereotypes. A <a href="https://www.pewresearch.org/social-trends/2018/12/17/gender-and-jobs-in-online-image-searches/">2018 study by the Pew Research Center</a> found that:</p>
<ul>
<li>Image results for common job searches overrepresent men relative to women - an estimated 60% of the individuals that appeared in the image results were men (40% were women).</li>
<li>For more than half the tested job categories, images appearing in searches underrepresent women relative to their actual participation in those jobs</li>
<li>Images containing women appear further down the page in search results for many jobs.</li>
</ul></li>
<li><p><strong>Avoid discriminatory and racist imagery.</strong></p></li>
<li><p><strong>Use images that show people as empowered and dignified, and avoid images that depict people as helpless victims</strong></p></li>
<li><p><strong>When showing groups of people, we should consider a mix of genders, races, ethnicities, and abilities.</strong></p></li>
</ul>
<p>Tools to help with icon selection include:</p>
<ul>
<li><a href="https://blog.thenounproject.com/visible-women-gender-in-iconography/">Tips for designing icons that depict gender</a> from Noun Project’s lead content curator Erika Kim</li>
</ul>
</section>
<section id="tables" class="level3">
<h3 class="anchored" data-anchor-id="tables">Tables</h3>
<p>Many data visualization applications enable data practitioners to display a visualization (chart, map) alongside a table. Including or embedding tables in a visualization can increases transparency and enable users to dig into the data behind the visualization without leaving said product. However, like every other design consideration we’ve discussed, the inclusion of tables should be considered with care.</p>
<p>When determining how you will include table(s) in your visualization or data product, consider:</p>
<ul>
<li><p><strong>Is including a table helpful or does it cause confusion?</strong> If the visualization is busy by itself, including a table that shows the exact same information can add to information overwhelm. If tables and figures/maps are not linked, adding filters in one place and then not seeing those same filters applied elsewhere can cause confusion. If this is the case for your visualization &amp; table combination, consider excluding the table from the visualization to better focus on the story and instead make it easy for viewers to download the data to view outside of the visualization, or include the table in the visualization application but on a different tab (so it’s there, but not distracting).</p></li>
<li><p><strong>What information should be added to the caption to make interpretation of the table easier for viewers?</strong> While the data may make perfect sense to you, remember that is likely because you have invested <u><strong><em>hours</em></strong></u> of your time to collect, process, analyze, and visualize the data. This makes it easy for the you to quickly glance at the table(s) and figure(s) within the visualization and “instinctively” know what the viewers are <em>supposed</em> to take away. Your audience likely doesn’t have the time (or interest) to invest as you have, and forcing them to do so will only result in loss of interest and use of the resource. <strong>ALWAYS include a caption above the table</strong> to make it easier for users to quickly orient themselves to the information included in the table, and understand how the table contributes to or backs up the story you’re trying to tell. The caption should describe the table using as much detail as needed to make it a stand-alone object (i.e.&nbsp;viewers should not need to read the body text or other parts of the visualization or application to understand the table).</p></li>
<li><p><strong>Are table notes needed to increase clarity?</strong> Preferably, most of the text associated with a table is in the table caption. However, if it is necessary to include notes that are associated with the table that are separate from the caption, be sure to keep them simple and only include crucial contextual information that is not explained elsewhere.</p></li>
<li><p><strong>Are the data shown in the table essential to the story?</strong> If you’ve followed the guidance in the <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/collect-process/process.html">Data Processing step</a>, then the data you use to create the visualization or data product should be tidy. Depending on the story you’re trying to tell and the audience you’re trying to connect with, including ALL of columns and rows of the processed data within visualization can be helpful or overwhelming. Consider only displaying the essential rows and columns within the visualization and making the complete dataset available for download.</p>
<ul>
<li>If you’re unsure of what columns or rows are essential - try asking a colleague or project partner to listen to you (or a <a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/assure-analyze/vis.html#alternative-text-alt-text">screen reader</a>) read the first couple of lines of the table aloud to them BEFORE they look at the table and caption. Then, have them look at the table and caption and ask which pieces of the table should be added or removed to make the desired meaning more clear.</li>
</ul></li>
<li><p><strong>Is highlighting being used to convey information?</strong> Screen readers do not tell the viewer the color of a cell. So, do not use color or shading alone to convey data or information. Authors may use color to improve the aesthetics of a table, but if the color is representative of data or information, it should be coupled by text, symbols, or data that also convey that information so that those with color vision differences can access the information you’re trying to convey.</p></li>
<li><p><strong>What do blank cells mean?</strong> Screen readers do not tell the viewer that a cell is blank; they just skip the cell altogether. If a blank cell has a certain meaning in your data story (e.g.&nbsp;NA, 0, no data, etc.), state that within the cell explicitly or add a dash ( - ) to the blank cell(s) and add a note at the bottom of the table (or within the caption) to make viewers aware of the meaning of the dash.</p></li>
</ul>
</section>
</section>
<section id="additional-resources" class="level2">
<h2 class="anchored" data-anchor-id="additional-resources">Additional Resources</h2>
<ul>
<li>Justinmind Blog (2020) <a href="https://www.justinmind.com/blog/user-centered-design/">User-centered design: a beginner’s guide</a></li>
<li><a href="https://www.urban.org/">Urban Institute</a> Resources
<ul>
<li><a href="https://urbaninstitute.github.io/graphics-styleguide/">Data Visualization Style Guide</a></li>
<li><a href="https://www.urban.org/research/publication/do-no-harm-guide-applying-equity-awareness-data-visualization">Do No Harm Guide: Applying Equity Awareness in Data Visualization</a></li>
</ul></li>
<li>We All Count - <a href="https://weallcount.com/2020/07/30/reverse-engineering-data-viz-for-equity/">Reverse Engineering Data Viz for Equity</a></li>
<li>TEDx Talk (2014) <a href="https://www.youtube.com/watch?v=BrtTyEmDLKQ">Hardwired for story</a></li>
</ul>
<section id="data-visualization-examples" class="level3">
<h3 class="anchored" data-anchor-id="data-visualization-examples">Data Visualization Examples</h3>
<ul>
<li>California Water Board’s Tribal Water Data <a href="https://gispublic.waterboards.ca.gov/portal/home/item.html?id=a71c1841907240e1a4d896c8cf2302a8">Map</a> &amp; <a href="https://cawaterboarddatacenter.github.io/tribal-water-data-map-manual/">Manual</a></li>
<li><a href="https://aquaoso.maps.arcgis.com/apps/webappviewer/index.html?id=a16deac30dec495185fc35771f3584ab">California Public Domain Allotment (PDA) Water Rights Map</a></li>
<li><a href="https://labs.waterdata.usgs.gov/visualizations/vulnerability-indicators/index.html#/en">Unequal access to water: How societal factors shape vulnerability to water insecurity</a></li>
</ul>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/cawaterboarddatacenter\.github\.io\/equity-data-handbook\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../assure-analyze/analysis.html" class="pagination-link" aria-label="Data Analysis">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Data Analysis</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../store.html" class="pagination-link" aria-label="Preserve &amp; Store">
        <span class="nav-page-text">Preserve &amp; Store</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© CC-By CA Water Board’s Office of Information Management and Analysis (OIMA), 2024</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/edit/main/assure-analyze/vis.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/blob/main/assure-analyze/vis.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This Handbook is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>