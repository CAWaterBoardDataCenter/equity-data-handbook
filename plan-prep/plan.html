<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>plan – Equity Data Handbook</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../plan-prep/prep.html" rel="next">
<link href="../plan-prep/index.html" rel="prev">
<link href="../images/WaterBoards_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-b758ccaa5987ceb1b75504551e579abf.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-ae8be5c617b27a8bf3bbacf14da49ee0.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-ba13d1d61b71d8301a9343640a19a053.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-ae8be5c617b27a8bf3bbacf14da49ee0.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../plan-prep/index.html">Plan &amp; Prepare</a></li><li class="breadcrumb-item"><a href="../plan-prep/plan.html">Planning</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/WaterBoards_logo.png" alt="" class="sidebar-logo light-content py-0 d-lg-inline d-none">
      <img src="../images/WaterBoards_logo.png" alt="" class="sidebar-logo dark-content py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Equity Data Handbook</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://www.waterboards.ca.gov/resources/oima/" title="OIMA" class="quarto-navigation-tool px-1" aria-label="OIMA"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook" title="Handbook Repo" class="quarto-navigation-tool px-1" aria-label="Handbook Repo"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../start.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Getting Started</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../background.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Background</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../plan-prep/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Plan &amp; Prepare</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../plan-prep/plan.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Planning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../plan-prep/prep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Preparation</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../collect-process/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Collect &amp; Process</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../collect-process/collection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Collection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../collect-process/process.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Processing</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../assure-analyze/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Assure &amp; Analyze</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assure-analyze/qaqc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quality Assurance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assure-analyze/analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../assure-analyze/vis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Visualization</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../store.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preserve &amp; Store</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../share.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Publish &amp; Share</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../eval.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discover &amp; Integrate</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../documentation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Describe</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../use-cases/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Use Cases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../use-cases/swamp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SWAMP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../use-cases/demographics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Demographics</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appx.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Resources</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#planning" id="toc-planning" class="nav-link active" data-scroll-target="#planning">Planning</a>
  <ul class="collapse">
  <li><a href="#step-0-project-scoping" id="toc-step-0-project-scoping" class="nav-link" data-scroll-target="#step-0-project-scoping">Step 0: Project Scoping</a></li>
  <li><a href="#step-1-describe-the-selected-program-policy-or-process-and-populations-affected-by-it" id="toc-step-1-describe-the-selected-program-policy-or-process-and-populations-affected-by-it" class="nav-link" data-scroll-target="#step-1-describe-the-selected-program-policy-or-process-and-populations-affected-by-it">Step 1: Describe the selected program, policy, or process, and populations affected by it</a></li>
  <li><a href="#step-2.-consider-historical-societal-and-policy-context-and-drivers-of-disparities" id="toc-step-2.-consider-historical-societal-and-policy-context-and-drivers-of-disparities" class="nav-link" data-scroll-target="#step-2.-consider-historical-societal-and-policy-context-and-drivers-of-disparities">Step 2. Consider historical, societal, and policy context and drivers of disparities</a></li>
  <li><a href="#step-3.-collect-expert-input-including-from-affected-community-members" id="toc-step-3.-collect-expert-input-including-from-affected-community-members" class="nav-link" data-scroll-target="#step-3.-collect-expert-input-including-from-affected-community-members">Step 3. Collect expert input, including from affected community members</a></li>
  <li><a href="#step-4.-identify-information-sources-and-gaps" id="toc-step-4.-identify-information-sources-and-gaps" class="nav-link" data-scroll-target="#step-4.-identify-information-sources-and-gaps">Step 4. Identify information sources and gaps</a></li>
  <li><a href="#step-5.-analyze-programpolicy-effects---potential-or-current---on-people-and-communities" id="toc-step-5.-analyze-programpolicy-effects---potential-or-current---on-people-and-communities" class="nav-link" data-scroll-target="#step-5.-analyze-programpolicy-effects---potential-or-current---on-people-and-communities">Step 5. Analyze program/policy effects - potential or current - on people and communities</a></li>
  <li><a href="#step-6.-plan-for-action-and-accountability" id="toc-step-6.-plan-for-action-and-accountability" class="nav-link" data-scroll-target="#step-6.-plan-for-action-and-accountability">Step 6. Plan for action and accountability</a></li>
  <li><a href="#additional-resources" id="toc-additional-resources" class="nav-link" data-scroll-target="#additional-resources">Additional Resources</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/edit/main/plan-prep/plan.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/blob/main/plan-prep/plan.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../plan-prep/index.html">Plan &amp; Prepare</a></li><li class="breadcrumb-item"><a href="../plan-prep/plan.html">Planning</a></li></ol></nav></header>





<section id="planning" class="level1">
<h1>Planning</h1>
<p>Planning your data project helps you estimate workload, timelines, and needs to support better chances of success with project goals and objectives. There are a lot of ways to do these plans, this chapter lists some of the most useful types of planning steps we found in our research.&nbsp;</p>
<p><strong>Equity Assessment</strong></p>
<p>Ideally every data project with an equity lens, begins with an equity assessment, or scoping process. Equity assessments are systematic examinations of available data and expert input on how various groups - especially those facing inequity or disparities - are or likely will be affected by a project, policy, program, or process. They aim to minimize unintended adverse outcomes and maximize opportunities and positive outcomes.</p>
<p>The steps to conducting an equity assessment are described below.</p>
<ul>
<li><a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html#step-0-project-scoping">Step 0: Project Scoping</a></li>
<li><a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html#step-1-describe-the-selected-program-policy-or-process-and-populations-affected-by-it">Step 1: Describe the selected program, policy, or process, and populations affected by it</a></li>
<li><a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html#step-2.-consider-historical-societal-and-policy-context-and-drivers-of-disparities">Step 2. Consider historical, societal, and policy context and drivers of disparities</a></li>
<li><a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html#step-3.-collect-expert-input-including-from-affected-community-members">Step 3. Collect expert input, including from affected community members</a></li>
<li><a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html#step-4.-identify-information-sources-and-gaps">Step 4. Identify information sources and gaps</a></li>
<li><a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html#step-5.-analyze-programpolicy-effects---potential-or-current---on-people-and-communities">Step 5. Analyze program/policy effects - potential or current - on people and communities</a></li>
<li><a href="https://cawaterboarddatacenter.github.io/equity-data-handbook/plan-prep/plan.html#step-6.-plan-for-action-and-accountability">Step 6. Plan for action and accountability</a></li>
</ul>
<p>Although these steps are numbered for clarity, teams should synthesize information from all steps rather than completing them in isolation or one at a time.</p>
<section id="step-0-project-scoping" class="level2">
<h2 class="anchored" data-anchor-id="step-0-project-scoping">Step 0: Project Scoping</h2>
<p><strong>Time frame and level of effort:</strong></p>
<ul>
<li><p>Plan a detailed schedule that accounts for staff availability, budget, technical assistance needs, data availability, and the need to make decisions in a particular time frame.</p></li>
<li><p>Identify and document risks to the timeline, such as staff availability, or threats to the comprehensiveness of the assessment, such as lack of access to experts. Consider potential ways to mitigate risks.</p></li>
</ul>
<p><strong>Project team:</strong></p>
<ul>
<li><p>Define roles for team members and assign responsibilities. Plan to share information at key milestones to synthesize information from different assessment steps.</p></li>
<li><p>Consider how to meaningfully involve experts, including people with lived experience with relevant programs and topics; people in communities affected by the program, policy, or process; staff who work with program participants/beneficiaries; or representatives of other offices. Experts can contribute to the assessment process in several ways, such as suggesting data sources, providing multiple perspectives to inform and enhance the analysis, and developing recommendations for action.</p></li>
</ul>
</section>
<section id="step-1-describe-the-selected-program-policy-or-process-and-populations-affected-by-it" class="level2">
<h2 class="anchored" data-anchor-id="step-1-describe-the-selected-program-policy-or-process-and-populations-affected-by-it">Step 1: Describe the selected program, policy, or process, and populations affected by it</h2>
<ol type="1">
<li><strong>Identify the sources being regulated:</strong> Before analysts can identify the populations and communities being affected by a Water Board action, it is important to first characterize the regulated sources, i.e.&nbsp;the sources of pollution that are regulated by the Water Boards, such as dischargers subject to NPDES permits. Where are they located? Are there particular characteristics of the regulated sources that contribute to higher exposure and/or risk of health effects? Do the program or regulatory options vary with these characteristics? For instance, are some sources subject to greater stringency or other regulatory requirements that would be important to account for in the analysis?&nbsp;&nbsp;</li>
</ol>
<!-- -->
<ol start="2" type="1">
<li><strong>Describe the environmental stressor(s):</strong> The spatial distribution of health and welfare outcomes is a relevant consideration for some Water Board actions. In these cases, evidence on the fate and transport of the environmental stressor can help determine the populations and communities potentially exposed. In other cases, the action’s effects may be more widespread. It is also important to understand which specific health effects are of greatest relevance for a given context.&nbsp;&nbsp;</li>
</ol>
<!-- -->
<ol start="3" type="1">
<li><strong>Characterize the affected populations:</strong> It is important to understand what factors may contribute to EJ concerns. How are individuals being exposed? Are there unique pathways or other factors that drive higher exposures for some population groups? Recognizing underlying contributors within a specific regulatory context is important for properly assessing equity concerns and can aid in the design of program or regulatory options. This may include evidence of already overburdened communities, including the cumulative effects of exposure to multiple environmental or non-environmental stressors on human health and well-being&nbsp;&nbsp;</li>
</ol>
<!-- -->
<ol start="4" type="1">
<li><strong>Compare affected and comparison populations:</strong> Analysts need to characterize the exposure and risk of health effects for population groups of concern relative to a comparison population group (see Group Comparison Analysis section) This allows analysts to gauge the extent to which effects for the affected population are similar or different than they are for the comparison group and how they vary across population groups.&nbsp;&nbsp;</li>
</ol>
<!-- -->
<ol start="5" type="1">
<li><strong>Conduct sensitivity analysis:</strong> Due to the inherent limitations and uncertainties associated with analyses of EJ concerns, conducting sensitivity analysis around key assumptions is particularly important for clearly communicating results to the public.&nbsp;&nbsp;</li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Many local city and county governments have compiled their own resources for working with equity data, like Oakland’s <a href="https://www.oaklandca.gov/resources/oakdot-geographic-equity-toolbox">Geographic Equity Toolbox</a>, Portland’s <a href="https://www.portlandoregon.gov/oehr/71685">Racial Equity Toolkit</a>, and New York City’s interactive equity data tool <a href="https://gcc02.safelinks.protection.outlook.com/?url=https%3A%2F%2Fequity.nyc.gov%2F&amp;data=05%7C01%7Cnicholas.martorano%40waterboards.ca.gov%7C87a614b2e3db4c85368c08dbc55a8595%7Cfe186a257d4941e6994105d2281d36c1%7C0%7C0%7C638320764855634179%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=r%2Br4%2BybTh130ovhG12PjYHQYqVHlz4jSB8gXj3KTnAI%3D&amp;reserved=0">EquityNYC</a>, including a <a href="https://equity.nyc.gov/mapping-equity">Mapping Equity tool</a>. Before starting your project, it is a good idea to do some research online to identify pre-existing resources available in your region.</p>
</div>
</div>
</section>
<section id="step-2.-consider-historical-societal-and-policy-context-and-drivers-of-disparities" class="level2">
<h2 class="anchored" data-anchor-id="step-2.-consider-historical-societal-and-policy-context-and-drivers-of-disparities">Step 2. Consider historical, societal, and policy context and drivers of disparities</h2>
<ul>
<li><p>What is the social and cultural history of the populations listed in Step 1 and how does this history shape their current conditions? How does this context play a role in how these populations might perceive, access, or otherwise interact with the program or policy?</p></li>
<li><p>What structural or social drivers of disparities might explain observed disparities? Structural drivers of disparities are governing processes and economic and social policies that distribute power and resources in unfair ways, such as an inequitable distribution of emergency funds to certain communities. Social drivers of disparities are differences in the conditions in which people are born, grow, live, work, and age, such as poverty, employment, housing, environment quality, transportation, food security, and community safety. Differences in these social conditions drive disparities. Although these conditions are also known as social determinants of health, this tool uses a broader term to encompass multiple outcomes, including both health outcomes and other outcomes (e.g., economic outcomes). Thinking through these drivers of disparities is important for placing focus on systems and institutions that need to be changed, and it helps to avoid blaming groups of people for poor outcomes.</p></li>
<li><p>What is known about whether structural, systemic, or institutional racism or structural barriers affect the implementation and outcomes of previous programs or policies? Systemic or institutional racism refers to policies and practices that create or sustain disparate outcomes for persons of different races. An example is redlining, where financial services and other housing-related opportunities were restricted for individuals largely based on their race/ethnicity and originating neighborhoods (see this 2021 Memorandum for the Secretary of Housing and Urban Development regarding <a href="https://www.federalregister.gov/documents/2021/01/29/2021-02074/redressing-our-nations-and-the-federal-governments-history-of-discriminatory-housing-practices-and">Redressing Our Nation’s and the Federal Government’s History of Discriminatory Housing Practices and Policies</a>)</p></li>
<li><p>How might population groups’ identifying characteristics overlap in ways that expose them to relatively greater inequities (known as intersectionality)? What implications does this overlap have for the impacts of the program, policy or process? For example, immigrants who are also LGBTQIA+ might face multiple barriers in accessing a particular program.&nbsp;</p></li>
</ul>
</section>
<section id="step-3.-collect-expert-input-including-from-affected-community-members" class="level2">
<h2 class="anchored" data-anchor-id="step-3.-collect-expert-input-including-from-affected-community-members">Step 3. Collect expert input, including from affected community members</h2>
<p>Experts can include former or current program participants/beneficiaries, members of communities affected by the program, policy, or process, staff who work with program participants/beneficiaries or affected communities, subject matter experts such as researchers, or staff in other organizations, among others. Sources of expert input on programs, policies, and processes include listening sessions, surveys, interviews, focus groups, and position papers by experts in the field or advocacy groups.</p>
<ul>
<li><p>How will the assessment team engage experts with lived experience with relevant programs, policies, processes, and/or issues? To what extent can these experts be part of the assessment team?</p></li>
<li><p>How will the assessment team engage other experts in the equity assessment (in addition to potentially involving them in the assessment team)? Which experts will be engaged?</p></li>
<li><p>What individuals or communities have historically been excluded or disempowered in decision making? How can they be included and meaningfully engaged?</p></li>
<li><p>How can the assessment team ensure inclusivity when engaging experts, such as translation services or accommodations for people with disabilities? Will there be different options for sharing input for people with different communication preferences or time or transportation constraints?</p></li>
<li><p>How will the assessment team work to decrease power dynamics and ensure that experts are comfortable providing candid input? How can the team be transparent about how input will be shared and used?</p></li>
<li><p>What methods can the assessment team use to collect input, such as focus groups on participants/beneficiaries’ experiences with programs? What are experts’ experiences with current programs and policies, and what are their views on the benefits and burdens involved in participating?</p></li>
<li><p>What are experts’ perceptions about barriers to participation? Can experts help the assessment team understand whether there are current or potential burdens or barriers that are more severe for certain population groups?</p></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>For more detailed guidance and resources regarding outreach and engagement, see the <a href="https://cawaterboards.sharepoint.com/:b:/r/sites/OPP/WBCollab/OPP%20Resource%20Pages%20Content/a_Public%20Engagement/Equitable%20Engagement%20Guidance/Advancing%20Equity%20Guidance_OPP_02102023.pdf?csf=1&amp;web=1&amp;e=ux6gtX">Practical Guidance Document</a> developed by the Office of Public Participation.</p>
</div>
</div>
</section>
<section id="step-4.-identify-information-sources-and-gaps" class="level2">
<h2 class="anchored" data-anchor-id="step-4.-identify-information-sources-and-gaps">Step 4. Identify information sources and gaps</h2>
<p>Consider a variety of qualitative and quantitative information sources to support the assessment, including gray and peer-reviewed literature, organization documents and administrative records, surveys, customer inquiry or complaint information, administrative data, program performance data, key informant interviews, and listening sessions or focus groups. Ideally, equity assessments often include both qualitative and quantitative data. Data sources can include, but should not be limited to, expert views.</p>
<ul>
<li><p>What are the quantitative data sources for the assessment process? Quantitative data such as program, administrative, or survey data shed light on the magnitude and prevalence of inequity or an opportunity for improvement.</p></li>
<li><p>Are available quantitative data disaggregated by relevant variables, such as race, ethnicity, income, and relevant geographic areas? If not, how can the assessment incorporate data that can help organizations understand or estimate the equity impacts of the program, policy, or process?</p></li>
<li><p>What are the qualitative data sources for the assessment process? Qualitative data such as interview or focus group data increase understanding of context, as well as helping to interpret and understand quantitative data.</p></li>
<li><p>Are there gaps or limitations in the information needed for the assessment? If either qualitative or quantitative data are not available, explain why. If there are gaps, how might the assessment team obtain new or better information, or highlight the need for investments in better data? It is important to describe gaps that might reflect historically overlooked inequities or point to the need for information sources that could be developed in future years.</p></li>
</ul>
</section>
<section id="step-5.-analyze-programpolicy-effects---potential-or-current---on-people-and-communities" class="level2">
<h2 class="anchored" data-anchor-id="step-5.-analyze-programpolicy-effects---potential-or-current---on-people-and-communities">Step 5. Analyze program/policy effects - potential or current - on people and communities</h2>
<p>Drawing on all previous steps in the assessment process, analyze the available data and describe equity-related outcomes of the program, policy, or process. Describe findings with as much specificity as possible.</p>
<ul>
<li><p>What quantitative and qualitative analysis methods did the team use to analyze the available data? Did the team synthesize quantitative and qualitative data to develop a complete picture of current inequities or disparities related to the program, policy, or process?</p></li>
<li><p>What are the assessment team’s findings on positive and negative equity-related outcomes of the program, policy, or process? What quantitative and qualitative evidence of inequities exists?</p></li>
<li><p>What evidence is there of inequities in areas such as awareness of programs and benefits, processes and rules, administrative burden, access to services, participation, outcomes, quality, and engagement?</p></li>
<li><p>How do findings change the team’s understanding of disparities related to the selected program, policy, or process known at the outset of the assessment?</p></li>
<li><p>What factors might be driving observed inequities or disparities? Are any of those factors potentially caused by the program or policy that is the focus of the assessment?</p></li>
<li><p>Have experts helped the assessment team interpret the available data or validate or refine the initial findings?</p></li>
<li><p>In what ways might the findings be limited due to data gaps or analysis constraints? What findings point to the need for further research?</p></li>
</ul>
</section>
<section id="step-6.-plan-for-action-and-accountability" class="level2">
<h2 class="anchored" data-anchor-id="step-6.-plan-for-action-and-accountability">Step 6. Plan for action and accountability</h2>
<p>Develop a detailed plan to address inequities identified in Step 5 within the scope of your program.</p>
<ul>
<li><p>What solutions are needed to resolve observed inequities or disparities, or to address identified drivers of those inequities or disparities? Which solutions are in the program’s sphere of authority?</p></li>
<li><p>What are the program’s short-term and long-term goals for improvement of disparities and inequities? Quantify those goals if possible.</p></li>
<li><p>What steps will the program take to accomplish each goal? What coordination, training, information systems changes, business process changes, or other implementation actions are needed?</p></li>
<li><p>Have subject matter experts—including those with lived experience—weighed in on needed solutions, proposed goals, or planned action steps? Are all components of the improvement plan responsive to the needs and cultures of different populations or communities?</p></li>
<li><p>What resources will the program need to carry out the plan?</p></li>
<li><p>Has the program consulted or collaborated with key partners on potential improvement options and actions?</p></li>
<li><p>In what ways could the program coordinate with other partners to achieve equity improvements that are not solely within the control or influence of the program conducting the assessment?</p></li>
</ul>
<p>Additional follow-up actions help programs learn about equity impacts and whether implementation should be adjusted to realize positive outcomes. In addition, equity assessments have the potential to generate many new lessons about equity that could be helpful for other partners. Articulating plans for these actions is part of the equity assessment even though these actions occur after the formal assessment is over.</p>
<ul>
<li><p>Would sharing the equity assessment with other partners support collaboration on other policies and programs intended to benefit priority populations?</p></li>
<li><p>Would sharing the equity assessment or a summary of findings with experts who were not directly involved in the assessment further promote equity through transparency and accountability?</p></li>
<li><p>What measures or indicators will the program use to track progress over time? Are these disaggregated individual-level or community-level measures? Monitoring can help the program assess whether patterns or trends are in the expected direction or require course corrections.</p></li>
<li><p>How and when will the organization evaluate the results of potential program changes? Evaluations focus on whether programs or policies reach their goals within a defined period. How can the organization design an equitable and inclusive evaluation?</p></li>
<li><p>Who will be responsible for developing and executing monitoring and evaluation plans?&nbsp;&nbsp;</p></li>
<li><p>Will the program share monitoring and evaluation results with the experts involved in the assessment or other partners? If so, how?</p></li>
</ul>
</section>
<section id="additional-resources" class="level2">
<h2 class="anchored" data-anchor-id="additional-resources">Additional Resources</h2>
<ul>
<li><a href="https://theoryandpractice.citizenscienceassociation.org/articles/10.5334/cstp.794">Putting Diversity, Equity, Inclusion, and Justice into Practice: The Four Dimensions of Inclusivity for Public Participatory Science</a> (Foo and Stanlick, 2025)</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/cawaterboarddatacenter\.github\.io\/equity-data-handbook\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../plan-prep/index.html" class="pagination-link" aria-label="Plan &amp; Prepare">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Plan &amp; Prepare</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../plan-prep/prep.html" class="pagination-link" aria-label="Data Preparation">
        <span class="nav-page-text">Data Preparation</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© CC-By CA Water Board’s Office of Information Management and Analysis (OIMA), 2024</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/edit/main/plan-prep/plan.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/blob/main/plan-prep/plan.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/CAWaterBoardDataCenter/equity-data-handbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This Handbook is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>